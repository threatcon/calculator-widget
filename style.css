
:root{
  --bg: #000000;                    /* page background: black */
  --shell: #1d1d20;                 /* smokey grey body */
  --glass: rgba(255,255,255,0.02);
  --digit-key: #2f2f33;             /* dark key face */
  --digit-key-pressed: #45454a;
  --func-key: #3b3b40;              /* function keys */
  --func-key-pressed: #58585d;
  --op-key: #ff9500;                /* iPhone orange for operators */
  --op-key-pressed: #ffb266;
  --text-main: #f1f1f3;
  --text-muted: rgba(241,241,243,0.62);
  --shadow: rgba(0,0,0,0.75);

  /* size variables scaled ~90% */
  --radius: 32px;           /* was 36px */
  --gap: 11px;              /* was 12px */
  --display-h: 117px;       /* was 130px */

  /* frame */
  --frame-border-color: rgba(255,255,255,0.04);
  --frame-border-width: 2px;
  --frame-outline-glow: rgba(150,150,170,0.04);
}

/* Reset / base */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html,body { height:100%; margin:0; background:var(--bg); font-family: 'Outfit', system-ui, -apple-system, "Helvetica Neue", Arial; color:var(--text-main); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Centering */
.iphone-calc-root { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:28px; }

/* Shell (smokey grey body) */
.calc-shell {
  width: 324px;                         /* 360 * 0.9 */
  max-width: calc(100% - 48px);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005));
  background-color: var(--shell);
  border-radius: var(--radius);
  padding: 18px;
  border: var(--frame-border-width) solid var(--frame-border-color);
  box-shadow: 0 16px 45px rgba(0,0,0,0.8), inset 0 1px 0 rgba(255,255,255,0.02), 0 0 16px var(--frame-outline-glow);
}

/* Display */
.display {
  height: var(--display-h);
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding: 14px 18px;                   /* slightly smaller padding for scale */
  border-radius: 20px;
  margin-bottom: 16px;
  color:var(--text-main);
  text-align:right;
  background: linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.003));
  border: 1px solid rgba(255,255,255,0.015);
  overflow: hidden;
}
.expr { font-size: 13px; color: var(--text-muted); min-height:18px; line-height:1; margin-bottom:6px; word-break:break-all; padding-right:4px; }
.result { font-size: 43px; font-weight:600; line-height:1; letter-spacing: -1px; word-break:break-all; padding-right:4px; }

/* Grid layout */
.button-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--gap);
}

/* Common button */
.key {
  height: 61px;                          /* 68 * 0.9 */
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 20px;                       /* 22 * 0.9 */
  font-weight:600;
  user-select:none;
  cursor: pointer;
  transform: translateZ(0);
  transition: transform 0.06s linear, box-shadow 0.06s linear, background 0.06s linear;
  box-shadow: 0 7px 15px var(--shadow);
  outline: none;
  border: none;
  background: transparent;
  color: inherit;
}

/* Wide 0 key */
.key.wide { grid-column: span 2; height: 61px; text-align: left; padding-left: 26px; } /* left padding scaled */

/* Key styles: iPhone-like */
.key.digit { background: linear-gradient(180deg, var(--digit-key), rgba(0,0,0,0.14)); color: var(--text-main); box-shadow: 0 6px 14px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.02); }
.key.func { background: linear-gradient(180deg, var(--func-key), rgba(0,0,0,0.12)); color: var(--text-main); box-shadow: 0 6px 14px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.01); }
.key.op { background: linear-gradient(180deg, var(--op-key), rgba(255,160,64,0.08)); color: #fff; box-shadow: 0 8px 18px rgba(0,0,0,0.5); }

/* Press effects */
.key:active, .key.pressed {
  transform: translateY(2px) scale(0.996);
  box-shadow: 0 4px 8px rgba(0,0,0,0.6);
}
.key.digit:active, .key.digit.pressed { background: linear-gradient(180deg, var(--digit-key-pressed), rgba(0,0,0,0.12)); }
.key.func:active, .key.func.pressed { background: linear-gradient(180deg, var(--func-key-pressed), rgba(0,0,0,0.12)); }
.key.op:active, .key.op.pressed { background: linear-gradient(180deg, var(--op-key-pressed), rgba(255,160,64,0.08)); }

/* Smaller on mobile (scaled down values) */
@media (max-width:420px){
  .calc-shell { width: 92vw; padding:12px; border-radius: 28px; }
  .display { height: 108px; padding:10px 12px; }
  .result { font-size: 36px; }
  .key { height: 54px; font-size:18px; }
  .key.wide { padding-left: 20px; }
}

/* Accessibility focus ring */
.key:focus { box-shadow: 0 0 0 3px rgba(200,200,210,0.06), 0 8px 18px var(--shadow); border-radius: 999px; }

/* Prevent text selection while pressing */
.key, .key * { -webkit-user-select: none; -ms-user-select: none; user-select: none; }
